<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GhostFragment Design Overview &mdash; GhostFragment 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Designing GhostFragment’s Input Driver" href="input_driver.html" />
    <link rel="prev" title="Designing GhostFragment" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            GhostFragment
          </a>
              <div class="version">
                0.0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../background/index.html">Theoretical Background</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Designing GhostFragment</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">GhostFragment Design Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what-is-ghostfragment">What is GhostFragment?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#why-do-we-need-ghostfragment">Why do we need GhostFragment?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ghostfragment-considerations">GhostFragment Considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#design-of-ghostfragment">Design of GhostFragment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input_driver.html">Designing GhostFragment’s Input Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="fragmented_system_driver.html">Designing GhostFragment’s FragmentedSystem Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="fragmented_molecule_driver.html">Designing the FragmentedMolecule Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="fragmented_nuclei_driver.html">Designing GhostFragment’s FragmentedNuclei Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="nmers.html">Designing the NMer Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmbe_coefficients.html">GMBE Coefficients</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../development/index.html">GhostFragment Development Topics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography/index.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module_api/index.html">Modules API</a></li>
<li class="toctree-l1"><a class="reference external" href="https://rmrresearch.github.io/GhostFragment/ghostfragment_cxx_api/index.html">C++ API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GhostFragment</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Developer Documentation</a></li>
          <li class="breadcrumb-item"><a href="index.html">Designing GhostFragment</a></li>
      <li class="breadcrumb-item active">GhostFragment Design Overview</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/rmrresearch/ghostfragment/edit/master/docs/source/developer/design/overview.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ghostfragment-design-overview">
<span id="gf-design-overview"></span><h1>GhostFragment Design Overview<a class="headerlink" href="#ghostfragment-design-overview" title="Link to this heading"></a></h1>
<p>The purpose of this page is to provide a quick, high-level overview of the
design of GhostFragment and to point the interested reader to where they
may find more details.</p>
<section id="what-is-ghostfragment">
<h2>What is GhostFragment?<a class="headerlink" href="#what-is-ghostfragment" title="Link to this heading"></a></h2>
<p>GhostFragment is a software package designed to facilitate developing and
running fragment-based methods.</p>
</section>
<section id="why-do-we-need-ghostfragment">
<h2>Why do we need GhostFragment?<a class="headerlink" href="#why-do-we-need-ghostfragment" title="Link to this heading"></a></h2>
<p>There is no one-stop shop for fragment-based methods. Various electronic
structure packages have implementations of one or a few methods, but no
package readily provides acccess to a large number of methods. GhostFragment
seeks to change this while also facilitating rapid-prototyping of new methods.</p>
</section>
<section id="ghostfragment-considerations">
<span id="gf-considerations"></span><h2>GhostFragment Considerations<a class="headerlink" href="#ghostfragment-considerations" title="Link to this heading"></a></h2>
<dl class="simple" id="gf-perfomance">
<dt>Performance</dt><dd><p>Fragment-based methods are meant to be an approximation to traditional
electronic structure methods. Most traditional methods have highly-performant
implementations. To be useful, fragment-based methods should improve the
applicability of traditional methods. This can only be done if the
implementations of the fragment-based methods are accurate and also
performant.</p>
</dd>
</dl>
<dl class="simple" id="gf-accuracy">
<dt>Accuracy</dt><dd><p>Brought up in the performance consideration, general applicability of
fragment-based methods requires the resulting approximation to be accurate.
We are specifically referring to having the fragment-based method faithfully
replicate the traditional method it is approximating. The accuracy of the
traditional method (compared to say experiment or the time-independent
Schrodinger equation) is beyond our scope.</p>
<ul class="simple">
<li><p>As a corrollary we note that it is now known that basis-set superposition
error plays a role in the convergence of most fragment-based methods. Thus
to implement accurate fragment-based methods we need to be able to correct
for BSSE.</p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="gf-generality">
<dt>Generality</dt><dd><p>We want GhostFragment to be able to house as many fragment-based methods as
possible. This requires having an overall architecture which is as applicable
as possible.</p>
<ul class="simple">
<li><p>A corollary is that we want to be able to interface with other electronic
structure packages as well.</p></li>
<li><p>Most methods can be seen as differing in only a couple key algorithmic
choices.</p></li>
</ul>
</dd>
</dl>
<dl class="simple" id="gf-multi-layer">
<dt>Multi-layer</dt><dd><p>A promising variation on a traditional fragment-based method is to treat
part of the chemical system with one level of theory, and the rest with
another (in theory this can easily be extended to more than two levels,
but in practice is often limited to two). GhostFragment should be designed
in a nestable fashion to support recursive invocations such as those
necessary for a multi-layer approach.</p>
</dd>
</dl>
<dl class="simple" id="gf-supersystem-pt">
<dt>Supersystem property type</dt><dd><p>The user actually cares about some property of the supersystem. The
fragment-based method should be a module which can be used as a drop-in
replacement for the traditional calculation. For example, if we want to
approximate calling a module satisfying the <code class="docutils literal notranslate"><span class="pre">Energy</span></code> property type with
a fragment-based method, the module implementing the fragment-based method
should also satisfy the <code class="docutils literal notranslate"><span class="pre">Energy</span></code> property type.</p>
</dd>
</dl>
</section>
<section id="design-of-ghostfragment">
<h2>Design of GhostFragment<a class="headerlink" href="#design-of-ghostfragment" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="#gf-perfomance"><span class="std std-ref">Performance</span></a> and <a class="reference internal" href="#gf-generality"><span class="std std-ref">Generality</span></a> considerations have led us to
implement GhostFragment as an NWChemEx plugin. More specifically, NWChemEx’s
PluginPlay framework is designed to faciliate writing software which can easily
be customized and extended. This in turn makes it easier to modularize the
pieces of GhostFragment which are responsible for the major algorithms like:
fragmenting, capping, embedding, and screening.</p>
<p>Generally speaking, we expect the algorithms which live in GhostFragment to be
substantially cheaper than the electronic structure methods we will run on
each sub-calculation. Thus, our main performance consideration is expected to
be effeciently parallelizing the sub-computations, while also maximizing the
re-use of common information among sub-compuations (<em>e.g.</em>, common guesses
for the SCF). We assume that the electronic structure method we are calling is
peformant already.</p>
<p>The remaining considerations from <a class="reference internal" href="#gf-considerations"><span class="std std-ref">GhostFragment Considerations</span></a> fall under the
architecture of GhostFragment.</p>
<figure class="align-center" id="id1">
<span id="fig-gf-arch"></span><img alt="../../_images/overview.png" src="../../_images/overview.png" />
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">GhostFragment is comprised of two components: an input driver, and an
engine.</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><a class="reference internal" href="#fig-gf-arch"><span class="std std-numref">Fig. 3</span></a> shows the high-level architecture of GhostFragment. The
unifying theme of all fragment-methods is that they strive to approximate one
large computation via a series of smaller computations. How one maps the
target system to sub-computations is handled by the “input driver”
component. Once we know the inputs for the smaller computations the “Engine”
is used to run the smaller computations. Given the results of the smaller
computations, GhostFragment can then approximate the property of interest for
the larger system. While not shown explicitly the input to GhostFragment being
a chemical system and the result being an energy, is consistent with a module
satisfying the <code class="docutils literal notranslate"><span class="pre">Energy</span></code> property type, consistent with
<a class="reference internal" href="#gf-supersystem-pt"><span class="std std-ref">Supersystem property type</span></a>. Similar top-level designs could be made for any
property type taking a chemical system.</p>
<p>The “input driver” is discussed in more detail at <a class="reference internal" href="input_driver.html#gf-input-driver-design"><span class="std std-ref">Designing GhostFragment’s Input Driver</span></a>.
The “input driver” controls the creation of the inputs to the engine. The
accuracy of a fragment-based method (relative to the method it is approximating)
is determined primarily by those inputs. Hence addressing the
<a class="reference internal" href="#gf-accuracy"><span class="std std-ref">Accuracy</span></a> consideration falls to the input driver. The final high-level
consideration, <a class="reference internal" href="#gf-multi-layer"><span class="std std-ref">Multi-layer</span></a>, can easily be addressed by nesting calls
to GhostFragment. In terms of architecture, the <a class="reference internal" href="#gf-multi-layer"><span class="std std-ref">Multi-layer</span></a>
consideration means GhostFragment needs to be written in a manner which is
ammenable to being nested. This is somewhat trivially satisfiable by making
GhostFragment’s top-level a PluginPlay module, and by then relying on the fact
that PluginPlay modules can be nested.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Designing GhostFragment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="input_driver.html" class="btn btn-neutral float-right" title="Designing GhostFragment’s Input Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Ryan M Richard.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>